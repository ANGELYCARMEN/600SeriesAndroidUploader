<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">

    <PreferenceCategory
        android:title="@string/pref_category_monitor">
        <info.nightscout.android.utils.CustomSwitchPreference
            android:title="@string/pref_bg_unit_title"
            android:disableDependentsState="false"
            android:key="@string/key_mmolxl"
            android:defaultValue="@bool/default_mmolxl"
            android:summaryOff="@string/pref_bg_unit_summary_off"
            android:summaryOn="@string/pref_bg_unit_summary_on"
            android:switchTextOff="@string/text_unit_mgdl"
            android:switchTextOn="@string/text_unit_mmol" />
        <info.nightscout.android.utils.CustomSwitchPreference
            android:title="@string/pref_decimals_title"
            android:dependency="mmolxl"
            android:key="@string/key_mmolDecimals"
            android:defaultValue="@bool/default_mmolDecimals"
            android:summaryOff="@string/pref_decimals_summary_off"
            android:summaryOn="@string/pref_decimals_summary_on"
            android:switchTextOff="1"
            android:switchTextOn="2" />
        <info.nightscout.android.utils.ListPreference
            android:title="@string/pref_poll_interval_title"
            android:key="@string/key_pollInterval"
            android:defaultValue="@string/default_pollInterval"
            android:entries="@array/poll_interval"
            android:entryValues="@array/poll_interval_values"
            android:summary="%s" />
        <info.nightscout.android.utils.CustomSwitchPreference
            android:title="@string/pref_poll_away_title"
            android:disableDependentsState="false"
            android:key="@string/key_doublePollOnPumpAway"
            android:defaultValue="@bool/default_doublePollOnPumpAway"
            android:summaryOff="@string/pref_poll_away_summary_off"
            android:summaryOn="@string/pref_poll_away_summary_on"
            android:switchTextOff="@string/text_off"
            android:switchTextOn="@string/text_on" />
        <info.nightscout.android.utils.ListPreference
            android:title="@string/pref_low_battery_poll_interval_title"
            android:key="@string/key_lowBatPollInterval"
            android:defaultValue="@string/default_lowBatPollInterval"
            android:summary="%s"
            android:entries="@array/poll_interval"
            android:entryValues="@array/poll_interval_values"/>
    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pref_category_display">
        <info.nightscout.android.utils.ListPreference
            android:title="@string/pref_chart_title"
            android:key="@string/key_chartZoom"
            android:defaultValue="@string/default_chartZoom"
            android:summary="%s"
            android:entries="@array/chart_zoom"
            android:entryValues="@array/chart_zoom_values"/>
        <ListPreference
            android:title="@string/pref_screen_sleep_title"
            android:key="@string/key_screenSleep"
            android:defaultValue="@string/default_screenSleep"
            android:summary="%s"
            android:entries="@array/screen_sleep"
            android:entryValues="@array/screen_sleep_values"/>
    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pref_category_sharing">
        <CheckBoxPreference
            android:title="@string/pref_upload_title"
            android:disableDependentsState="false"
            android:key="@string/key_EnableRESTUpload"
            android:defaultValue="@bool/default_EnableRESTUpload"
            android:summary="@string/pref_upload_summary" />
        <info.nightscout.android.utils.EditTextPreferenceURL
            android:title="@string/pref_url_title"
            android:key="@string/key_nightscoutURL"
            android:defaultValue="@string/default_nightscoutURL"
            android:dependency="@string/key_EnableRESTUpload"
            android:dialogMessage="@string/pref_url_dialog_message"
            android:dialogTitle="@string/pref_url_dialog_title"/>
        <info.nightscout.android.utils.EditTextPreferenceSECRET
            android:title="@string/pref_secret_title"
            android:key="@string/key_nightscoutSECRET"
            android:defaultValue="@string/default_nightscoutSECRET"
            android:dependency="@string/key_EnableRESTUpload"
            android:dialogMessage="@string/pref_secret_dialog_message"
            android:dialogTitle="@string/pref_secret_dialog_title" />

        <PreferenceScreen
            android:title="@string/pref_category_advanced_nightscout_settings"
            android:dependency="@string/key_EnableRESTUpload"
            android:persistent="false">

            <PreferenceCategory
                android:title="@string/pref_category_advanced_nightscout_settings">
                <CheckBoxPreference
                    android:title="@string/pref_ns_treatments_title"
                    android:key="@string/key_nsEnableTreatments"
                    android:defaultValue="@bool/default_nsEnableTreatments"
                    android:summary="@string/pref_ns_treatments_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_history_sync_title"
                    android:key="@string/key_nsEnableHistorySync"
                    android:defaultValue="@bool/default_nsEnableHistorySync"
                    android:summary="@string/pref_ns_history_sync_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_bg_readings">
                <CheckBoxPreference
                    android:title="@string/pref_ns_finger_bg_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableFingerBG"
                    android:defaultValue="@bool/default_nsEnableFingerBG"
                    android:summary="@string/pref_ns_finger_bg_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_calibration_info_title"
                    android:dependency="@string/key_nsEnableFingerBG"
                    android:key="@string/key_nsEnableCalibrationInfo"
                    android:defaultValue="@bool/default_nsEnableCalibrationInfo"
                    android:summary="@string/pref_ns_calibration_info_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_consumables">
                <CheckBoxPreference
                    android:title="@string/pref_ns_sensor_change_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableSensorChange"
                    android:defaultValue="@bool/default_nsEnableSensorChange"
                    android:summary="@string/pref_ns_sensor_change_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_cannula_change_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableReservoirChange"
                    android:defaultValue="@bool/default_nsEnableReservoirChange"
                    android:summary="@string/pref_ns_cannula_change_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_cannula_change_threshold_title"
                    android:dependency="@string/key_nsEnableReservoirChange"
                    android:key="@string/key_nsCannulaChangeThreshold"
                    android:defaultValue="@string/default_nsCannulaChangeThreshold"
                    android:summary="%s"
                    android:entries="@array/cannula_change_threshold"
                    android:entryValues="@array/cannula_change_threshold_values"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_insulin_change_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableInsulinChange"
                    android:defaultValue="@bool/default_nsEnableInsulinChange"
                    android:summary="@string/pref_ns_insulin_change_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_insulin_change_threshold_title"
                    android:dependency="@string/key_nsEnableInsulinChange"
                    android:key="@string/key_nsInsulinChangeThreshold"
                    android:defaultValue="@string/default_nsInsulinChangeThreshold"
                    android:summary="%s"
                    android:entries="@array/insulin_change_threshold"
                    android:entryValues="@array/insulin_change_threshold_values"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_battery_change_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableBatteryChange"
                    android:defaultValue="@bool/default_nsEnableBatteryChange"
                    android:summary="@string/pref_ns_battery_change_summary"/>
                <CheckBoxPreference android:title="@string/pref_ns_lifetimes_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableLifetimes"
                    android:defaultValue="@bool/default_nsEnableLifetimes"
                    android:summary="@string/pref_ns_lifetimes_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_profiles">
                <CheckBoxPreference
                    android:title="@string/pref_ns_profile_upload_title"
                    android:key="@string/key_nsEnableProfileUpload"
                    android:defaultValue="@bool/default_nsEnableProfileUpload"
                    android:summary="@string/pref_ns_profile_upload_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_profile_single_title"
                    android:dependency="@string/key_nsEnableProfileUpload"
                    android:key="@string/key_nsEnableProfileSingle"
                    android:defaultValue="@bool/default_nsEnableProfileSingle"
                    android:summary="@string/pref_ns_profile_single_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_profile_offset_title"
                    android:dependency="@string/key_nsEnableProfileUpload"
                    android:key="@string/key_nsEnableProfileOffset"
                    android:defaultValue="@bool/default_nsEnableProfileOffset"
                    android:summary="@string/pref_ns_profile_offset_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_profile_default_pattern_title"
                    android:dependency="@string/key_nsEnableProfileUpload"
                    android:key="@string/key_nsProfileDefault"
                    android:defaultValue="@string/default_nsProfileDefault"
                    android:summary="%s"
                    android:entries="@array/profile_default"
                    android:entryValues="@array/profile_default_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_profile_active_insulin_time_title"
                    android:dependency="@string/key_nsEnableProfileUpload"
                    android:key="@string/key_nsActiveInsulinTime"
                    android:defaultValue="@string/default_nsActiveInsulinTime"
                    android:summary="%s"
                    android:entries="@array/active_insulin_time"
                    android:entryValues="@array/active_insulin_time_values"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_profile_sent_pattern_change_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnablePatternChange"
                    android:defaultValue="@bool/default_nsEnablePatternChange"
                    android:summary="@string/pref_ns_profile_sent_pattern_change_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_status">
                <CheckBoxPreference
                    android:title="@string/pref_ns_status_pump_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableAlarms"
                    android:defaultValue="@bool/default_nsEnableAlarms"
                    android:summary="@string/pref_ns_status_pump_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_status_extended_title"
                    android:dependency="@string/key_nsEnableAlarms"
                    android:key="@string/key_nsAlarmExtended"
                    android:defaultValue="@bool/default_nsAlarmExtended"
                    android:summary="@string/pref_ns_status_extended_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_status_time_to_clear_title"
                    android:dependency="@string/key_nsEnableAlarms"
                    android:key="@string/key_nsAlarmCleared"
                    android:defaultValue="@bool/default_nsAlarmCleared"
                    android:summary="@string/pref_ns_status_time_to_clear_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_status_uploader_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableSystemStatus"
                    android:defaultValue="@bool/default_nsEnableSystemStatus"
                    android:summary="@string/pref_ns_status_uploader_summary"/>
                <CheckBoxPreference
                    android:title="Uploader Battery Full"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableUploaderBatteryFull"
                    android:defaultValue="@bool/default_nsEnableUploaderBatteryFull"
                    android:summary="Send uploader battery full status to Nightscout"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_status_ttl_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsAlarmTTL"
                    android:summary="%s"
                    android:defaultValue="@string/default_nsAlarmTTL"
                    android:entries="@array/alarm_ttl"
                    android:entryValues="@array/alarm_ttl_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_misc">
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_ns_grams_per_exchange_title"
                    android:key="@string/key_nsGramsPerExchange"
                    android:defaultValue="@string/default_nsGramsPerExchange"
                    android:summary="%s"
                    android:entries="@array/grams_per_exchange"
                    android:entryValues="@array/grams_per_exchange_values"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_daily_totals_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableDailyTotals"
                    android:defaultValue="@bool/default_nsEnableDailyTotals"
                    android:summary="@string/pref_ns_daily_totals_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_ns_formatting_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableFormatHTML"
                    android:defaultValue="@bool/default_nsEnableFormatHTML"
                    android:summary="@string/pref_ns_formatting_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_pattern_and_preset_naming">
                <PreferenceScreen
                    android:title="@string/pref_ns_category_basal_patterns"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="@string/pref_ns_category_basal_patterns">
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_1_title"
                            android:key="@string/key_nameBasalPattern1"
                            android:defaultValue="@string/default_nameBasalPattern1"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_2_title"
                            android:key="@string/key_nameBasalPattern2"
                            android:defaultValue="@string/default_nameBasalPattern2"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_3_title"
                            android:key="@string/key_nameBasalPattern3"
                            android:defaultValue="@string/default_nameBasalPattern3"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_4_title"
                            android:key="@string/key_nameBasalPattern4"
                            android:defaultValue="@string/default_nameBasalPattern4"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_5_title"
                            android:key="@string/key_nameBasalPattern5"
                            android:defaultValue="@string/default_nameBasalPattern5"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_6_title"
                            android:key="@string/key_nameBasalPattern6"
                            android:defaultValue="@string/default_nameBasalPattern6"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_7_title"
                            android:key="@string/key_nameBasalPattern7"
                            android:defaultValue="@string/default_nameBasalPattern7"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_pattern_8_title"
                            android:key="@string/key_nameBasalPattern8"
                            android:defaultValue="@string/default_nameBasalPattern8"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_pattern_name_dialog_title"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="@string/pref_ns_category_temp_basal_presets"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="@string/pref_ns_category_temp_basal_presets">
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_1_title"
                            android:key="@string/key_nameTempBasalPreset1"
                            android:defaultValue="@string/default_nameTempBasalPreset1"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_2_title"
                            android:key="@string/key_nameTempBasalPreset2"
                            android:defaultValue="@string/default_nameTempBasalPreset2"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_3_title"
                            android:key="@string/key_nameTempBasalPreset3"
                            android:defaultValue="@string/default_nameTempBasalPreset3"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_4_title"
                            android:key="@string/key_nameTempBasalPreset4"
                            android:defaultValue="@string/default_nameTempBasalPreset4"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_5_title"
                            android:key="@string/key_nameTempBasalPreset5"
                            android:defaultValue="@string/default_nameTempBasalPreset5"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_6_title"
                            android:key="@string/key_nameTempBasalPreset6"
                            android:defaultValue="@string/default_nameTempBasalPreset6"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_7_title"
                            android:key="@string/key_nameTempBasalPreset7"
                            android:defaultValue="@string/default_nameTempBasalPreset7"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_8_title"
                            android:key="@string/key_nameTempBasalPreset8"
                            android:defaultValue="@string/default_nameTempBasalPreset8"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="@string/pref_ns_category_bolus_presets"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="@string/pref_ns_category_bolus_presets">
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_1_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset1"
                            android:defaultValue="@string/default_nameBolusPreset1"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_2_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset2"
                            android:defaultValue="@string/default_nameBolusPreset2"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_3_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset3"
                            android:defaultValue="@string/default_nameBolusPreset3"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_4_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset4"
                            android:defaultValue="@string/default_nameBolusPreset4"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_5_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset5"
                            android:defaultValue="@string/default_nameBolusPreset5"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_6_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset6"
                            android:defaultValue="@string/default_nameBolusPreset6"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_7_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset7"
                            android:defaultValue="@string/default_nameBolusPreset7"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                        <info.nightscout.android.utils.EditTextPreferenceNAME
                            android:title="@string/pref_ns_preset_8_title"
                            android:dependency="@string/key_nsEnableProfileUpload"
                            android:key="@string/key_nameBolusPreset8"
                            android:defaultValue="@string/default_nameBolusPreset8"
                            android:dialogMessage=""
                            android:dialogTitle="@string/pref_ns_enter_preset_name_dialog_title"/>
                    </PreferenceCategory>
                </PreferenceScreen>

            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_ns_category_cgm">
                <CheckBoxPreference
                    android:title="@string/pref_ns_insert_bg_as_cgm_title"
                    android:dependency="@string/key_nsEnableTreatments"
                    android:key="@string/key_nsEnableInsertBGasCGM"
                    android:defaultValue="@bool/default_nsEnableInsertBGasCGM"
                    android:summary="@string/pref_ns_insert_bg_as_cgm_summary"/>
            </PreferenceCategory>
        </PreferenceScreen>

        <Preference
            android:title="@string/pref_scan_qr_code_title"
            android:key="@string/key_scanButton"
            android:dependency="@string/key_EnableRESTUpload"
            android:summary="@string/pref_scan_qr_code_summary"/>

        <CheckBoxPreference
            android:title="@string/pref_xdrip_title"
            android:key="@string/key_enableXdripPlusUpload"
            android:defaultValue="@bool/default_enableXdripPlusUpload"
            android:summary="@string/pref_xdrip_summary" />

        <PreferenceScreen
            android:title="@string/pref_urchin_title"
            android:summary="@string/pref_urchin_summary"
            android:persistent="false">

            <PreferenceCategory
                android:title="@string/pref_category_urchin_pebble_watchface">
                <CheckBoxPreference
                    android:title="@string/pref_urchin_enable_title"
                    android:key="@string/key_urchinEnable"
                    android:defaultValue="@bool/default_urchinEnable"
                    android:summary="@string/pref_urchin_enable_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_urchin_basal_graph_title">
                <Preference
                    android:dependency="@string/key_urchinEnable"
                    android:key="pref_static_field_key"
                    android:selectable="false"
                    android:summary="@string/pref_urchin_basal_graph_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_basal_graph_period_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBasalPeriod"
                    android:defaultValue="@string/default_urchinBasalPeriod"
                    android:summary="%s"
                    android:entries="@array/urchin_basal_period"
                    android:entryValues="@array/urchin_values"/>
                <ListPreference
                    android:title="@string/pref_urchin_basal_graph_yscale_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBasalScale"
                    android:defaultValue="@string/default_urchinBasalScale"
                    android:summary="%s"
                    android:entries="@array/urchin_basal_scale"
                    android:entryValues="@array/urchin_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_urchin_bolus_graph_title">
                <CheckBoxPreference
                    android:title="@string/pref_urchin_bolus_graph_markers_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBolusGraph"
                    android:defaultValue="@bool/default_urchinBolusGraph"
                    android:summary="@string/pref_urchin_bolus_graph_markers_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_urchin_bolus_graph_tags_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBolusTags"
                    android:defaultValue="@bool/default_urchinBolusTags"
                    android:summary="@string/pref_urchin_bolus_graph_tags_summary"/>
                <Preference
                    android:dependency="@string/key_urchinEnable"
                    android:key="pref_static_field_key"
                    android:selectable="false"
                    android:summary="@string/pref_urchin_bolus_graph_ypop_summary"/>
                <ListPreference
                    android:title="@string/pref_urchin_bolus_graph_ypop_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBolusPop"
                    android:defaultValue="@string/default_urchinBolusPop"
                    android:summary="%s"
                    android:entries="@array/urchin_basal_scale"
                    android:entryValues="@array/urchin_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_urchin_status_styles_title">
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_time_style_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinTimeStyle"
                    android:defaultValue="@string/default_urchinTimeStyle"
                    android:summary="%s"
                    android:entries="@array/urchin_time"
                    android:entryValues="@array/urchin_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_duration_style_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinDurationStyle"
                    android:defaultValue="@string/default_urchinDurationStyle"
                    android:summary="%s"
                    android:entries="@array/urchin_duration"
                    android:entryValues="@array/urchin_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_units_style_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinUnitsStyle"
                    android:defaultValue="@string/default_urchinUnitsStyle"
                    android:summary="%s"
                    android:entries="@array/urchin_units"
                    android:entryValues="@array/urchin_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_battery_style_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinBatteyStyle"
                    android:defaultValue="@string/default_urchinBatteyStyle"
                    android:summary="%s"
                    android:entries="@array/urchin_battery"
                    android:entryValues="@array/urchin_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_urchin_concatenate_style_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinConcatenateStyle"
                    android:defaultValue="@string/default_urchinConcatenateStyle"
                    android:summary="%s"
                    android:entries="@array/urchin_concatenate"
                    android:entryValues="@array/urchin_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_urchin_custom_text_title">
                <info.nightscout.android.utils.EditTextPreferenceURCHIN
                    android:title="@string/pref_urchin_custom_text_1_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinCustomText1"
                    android:defaultValue="@string/default_urchinCustomText1"
                    android:dialogMessage="@string/pref_urchin_custom_text_characters_dialog_message"
                    android:dialogTitle="@string/pref_urchin_custom_text_dialog_title"/>
                <info.nightscout.android.utils.EditTextPreferenceURCHIN
                    android:title="@string/pref_urchin_custom_text_2_title"
                    android:dependency="@string/key_urchinEnable"
                    android:key="@string/key_urchinCustomText2"
                    android:defaultValue="@string/default_urchinCustomText2"
                    android:dialogMessage="@string/pref_urchin_custom_text_characters_dialog_message"
                    android:dialogTitle="@string/pref_urchin_custom_text_dialog_title"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_urchin_status_layout_title"
                android:dependency="@string/key_urchinEnable">
                <ListPreference
                    android:key="urchinStatusLayout1"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout2"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout3"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout4"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout5"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout6"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout7"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout8"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout9"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout10"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout11"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout12"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout13"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout14"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout15"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout16"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout17"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout18"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout19"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout20"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout21"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout22"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout23"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout24"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout25"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout26"
                    android:summary="%s"
                    android:defaultValue="0"/>
                <ListPreference
                    android:key="urchinStatusLayout27"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout28"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout29"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout30"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout31"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout32"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout33"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout34"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
                <ListPreference
                    android:key="urchinStatusLayout35"
                    android:summary="%s"
                    android:defaultValue="@string/default_urchinStatusLayout"/>
            </PreferenceCategory>

        </PreferenceScreen>

        <PreferenceScreen
            android:title="Pushover"
            android:summary="Alerts and Events to any device"
            android:persistent="false">

            <PreferenceCategory
                android:title="Pushover">
                <CheckBoxPreference
                    android:title="Enable Pushover support"
                    android:key="@string/key_pushoverEnable"
                    android:defaultValue="@bool/default_pushoverEnable"
                    android:summary="Send push notifications for pump alerts and events to any device using Pushover. Download the Pushover app on your follower device from the App Store."/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="Account">
                <info.nightscout.android.utils.EditTextPreferenceURL
                    android:title="API Token"
                    android:dependency="@string/key_pushoverEnable"
                    android:key="@string/key_pushoverAPItoken"
                    android:defaultValue="@string/default_pushoverAPItoken"
                    android:dialogMessage=""
                    android:dialogTitle="Enter your api token"/>
                <info.nightscout.android.utils.EditTextPreferenceURL
                    android:title="USER / GROUP Key"
                    android:dependency="@string/key_pushoverEnable"
                    android:key="@string/key_pushoverUSERtoken"
                    android:defaultValue="@string/default_pushoverUSERtoken"
                    android:dialogMessage=""
                    android:dialogTitle="Enter your user / group key"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="Override">
                <CheckBoxPreference
                    android:title="Priority Override"
                    android:dependency="@string/key_pushoverEnable"
                    android:key="@string/key_pushoverEnablePriorityOverride"
                    android:defaultValue="@bool/default_pushoverEnablePriorityOverride"/>
                <ListPreference
                    android:title="All Priorities"
                    android:dependency="@string/key_pushoverEnablePriorityOverride"
                    android:key="@string/key_pushoverPriorityOverride"
                    android:defaultValue="@string/default_pushoverPriorityOverride"
                    android:summary="%s"
                    android:entries="@array/pushover_priority"
                    android:entryValues="@array/pushover_priority_values"/>
                <CheckBoxPreference
                    android:title="Sound Override"
                    android:dependency="@string/key_pushoverEnable"
                    android:key="@string/key_pushoverEnableSoundOverride"
                    android:defaultValue="@bool/default_pushoverEnableSoundOverride"/>
                <ListPreference
                    android:title="All Sounds"
                    android:dependency="@string/key_pushoverEnableSoundOverride"
                    android:key="@string/key_pushoverSoundOverride"
                    android:defaultValue="@string/default_pushoverSoundOverride"
                    android:summary="%s"
                    android:entries="@array/pushover_sound"
                    android:entryValues="@array/pushover_sound"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="Settings">
                <PreferenceScreen
                    android:title="High/Low Alerts"
                    android:dependency="@string/key_pushoverEnable"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="High/Low Alerts">
                        <Preference
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="Alarms and alerts that have not been acknowledged and cleared by the pump user can have a notification sent to followers."/>
                        <Preference
                            android:title="Message priority selection:"
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="EMERGENCY: red notification &amp; sound (persistent alarm that must be aknowledged by follower)\nHIGH: red notification &amp; sound\nNORMAL: notification &amp; sound\nLOW: notification &amp; no sound\nLOWEST: no notification &amp; no sound (message can be viewed in the Pushover app/widget)"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Alert On High">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableOnHigh"
                            android:defaultValue="@bool/default_pushoverEnableOnHigh"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableOnHigh"
                            android:key="@string/key_pushoverPriorityOnHigh"
                            android:defaultValue="@string/default_pushoverPriorityOnHigh"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableOnHigh"
                            android:key="@string/key_pushoverSoundOnHigh"
                            android:defaultValue="@string/default_pushoverSoundOnHigh"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Alert On Low">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableOnLow"
                            android:defaultValue="@bool/default_pushoverEnableOnLow"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableOnLow"
                            android:key="@string/key_pushoverPriorityOnLow"
                            android:defaultValue="@string/default_pushoverPriorityOnLow"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableOnLow"
                            android:key="@string/key_pushoverSoundOnLow"
                            android:defaultValue="@string/default_pushoverSoundOnLow"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Alert Before High">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableBeforeHigh"
                            android:defaultValue="@bool/default_pushoverEnableBeforeHigh"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableBeforeHigh"
                            android:key="@string/key_pushoverPriorityBeforeHigh"
                            android:defaultValue="@string/default_pushoverPriorityBeforeHigh"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableBeforeHigh"
                            android:key="@string/key_pushoverSoundBeforeHigh"
                            android:defaultValue="@string/default_pushoverSoundBeforeHigh"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Alert Before Low">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableBeforeLow"
                            android:defaultValue="@bool/default_pushoverEnableBeforeLow"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableBeforeLow"
                            android:key="@string/key_pushoverPriorityBeforeLow"
                            android:defaultValue="@string/default_pushoverPriorityBeforeLow"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableBeforeLow"
                            android:key="@string/key_pushoverSoundBeforeLow"
                            android:defaultValue="@string/default_pushoverSoundBeforeLow"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Auto Mode Exit">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableAutoModeExit"
                            android:defaultValue="@bool/default_pushoverEnableAutoModeExit"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableAutoModeExit"
                            android:key="@string/key_pushoverPriorityAutoModeExit"
                            android:defaultValue="@string/default_pushoverPriorityAutoModeExit"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableAutoModeExit"
                            android:key="@string/key_pushoverSoundAutoModeExit"
                            android:defaultValue="@string/default_pushoverSoundAutoModeExit"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="Pump Alerts"
                    android:dependency="@string/key_pushoverEnable"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="Pump Alerts">
                        <Preference
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="Alarms and alerts that have not been acknowledged and cleared by the pump user can have a notification sent to followers."/>
                        <Preference
                            android:title="Message priority selection:"
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="EMERGENCY: red notification &amp; sound (persistent alarm that must be aknowledged by follower)\nHIGH: red notification &amp; sound\nNORMAL: notification &amp; sound\nLOW: notification &amp; no sound\nLOWEST: no notification &amp; no sound (message can be viewed in the Pushover app/widget)"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Emergency Alert">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnablePumpEmergency"
                            android:defaultValue="@bool/default_pushoverEnablePumpEmergency"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnablePumpEmergency"
                            android:key="@string/key_pushoverPriorityPumpEmergency"
                            android:defaultValue="@string/key_pushoverPriorityPumpEmergency"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnablePumpEmergency"
                            android:key="@string/key_pushoverSoundPumpEmergency"
                            android:defaultValue="@string/key_pushoverSoundPumpEmergency"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Actionable Alert">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnablePumpActionable"
                            android:defaultValue="@bool/default_pushoverEnablePumpActionable"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnablePumpActionable"
                            android:key="@string/key_pushoverPriorityPumpActionable"
                            android:defaultValue="@string/default_pushoverPriorityPumpActionable"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnablePumpActionable"
                            android:key="@string/key_pushoverSoundPumpActionable"
                            android:defaultValue="@string/default_pushoverSoundPumpActionable"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Informational Alert">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnablePumpInformational"
                            android:defaultValue="@bool/default_pushoverEnablePumpInformational"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnablePumpInformational"
                            android:key="@string/key_pushoverPriorityPumpInformational"
                            android:defaultValue="@string/default_pushoverPriorityPumpInformational"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnablePumpInformational"
                            android:key="@string/key_pushoverSoundPumpInformational"
                            android:defaultValue="@string/default_pushoverSoundPumpInformational"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Reminders">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnablePumpReminder"
                            android:defaultValue="@bool/default_pushoverEnablePumpReminder"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnablePumpReminder"
                            android:key="@string/key_pushoverPriorityPumpReminder"
                            android:defaultValue="@string/default_pushoverPriorityPumpReminder"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnablePumpReminder"
                            android:key="@string/key_pushoverSoundPumpReminder"
                            android:defaultValue="@string/default_pushoverSoundPumpReminder"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="Pump Events"
                    android:dependency="@string/key_pushoverEnable"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="Pump Events">
                        <Preference
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="Treatments and events can have a notification sent to followers."/>
                        <Preference
                            android:title="Message priority selection:"
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="EMERGENCY: red notification &amp; sound (persistent alarm that must be aknowledged by follower)\nHIGH: red notification &amp; sound\nNORMAL: notification &amp; sound\nLOW: notification &amp; no sound\nLOWEST: no notification &amp; no sound (message can be viewed in the Pushover app/widget)"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Bolus">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableBolus"
                            android:defaultValue="@bool/default_pushoverEnableBolus"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableBolus"
                            android:key="@string/key_pushoverPriorityBolus"
                            android:defaultValue="@string/default_pushoverPriorityBolus"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableBolus"
                            android:key="@string/key_pushoverSoundBolus"
                            android:defaultValue="@string/default_pushoverSoundBolus"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Basal">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableBasal"
                            android:defaultValue="@bool/default_pushoverEnableBasal"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableBasal"
                            android:key="@string/key_pushoverPriorityBasal"
                            android:defaultValue="@string/default_pushoverPriorityBasal"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableBasal"
                            android:key="@string/key_pushoverSoundBasal"
                            android:defaultValue="@string/default_pushoverSoundBasal"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Suspend / Resume">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableSuspendResume"
                            android:defaultValue="@bool/default_pushoverEnableSuspendResume"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableSuspendResume"
                            android:key="@string/key_pushoverPrioritySuspendResume"
                            android:defaultValue="@string/default_pushoverPrioritySuspendResume"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableSuspendResume"
                            android:key="@string/key_pushoverSoundSuspendResume"
                            android:defaultValue="@string/default_pushoverSoundSuspendResume"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="BG">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableBG"
                            android:defaultValue="@bool/default_pushoverEnableBG"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableBG"
                            android:key="@string/key_pushoverPriorityBG"
                            android:defaultValue="@string/default_pushoverPriorityBG"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableBG"
                            android:key="@string/key_pushoverSoundBG"
                            android:defaultValue="@string/default_pushoverSoundBG"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Calibration Result">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableCalibration"
                            android:defaultValue="@bool/default_pushoverEnableCalibration"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableCalibration"
                            android:key="@string/key_pushoverPriorityCalibration"
                            android:defaultValue="@string/default_pushoverPriorityCalibration"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableCalibration"
                            android:key="@string/key_pushoverSoundCalibration"
                            android:defaultValue="@string/default_pushoverSoundCalibration"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Consumables">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableConsumables"
                            android:defaultValue="@bool/default_pushoverEnableConsumables"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableConsumables"
                            android:key="@string/key_pushoverPriorityConsumables"
                            android:defaultValue="@string/default_pushoverPriorityConsumables"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableConsumables"
                            android:key="@string/key_pushoverSoundConsumables"
                            android:defaultValue="@string/default_pushoverSoundConsumables"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                        <CheckBoxPreference
                            android:title="Lifetime info"
                            android:dependency="@string/key_pushoverEnableConsumables"
                            android:key="@string/key_pushoverLifetimeInfo"
                            android:defaultValue="@bool/default_pushoverLifetimeInfo"
                            android:summary="Lifetimes of consumable items"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Daily Totals">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableDailyTotals"
                            android:defaultValue="@bool/default_pushoverEnableDailyTotals"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableDailyTotals"
                            android:key="@string/key_pushoverPriorityDailyTotals"
                            android:defaultValue="@string/default_pushoverPriorityDailyTotals"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableDailyTotals"
                            android:key="@string/key_pushoverSoundDailyTotals"
                            android:defaultValue="@string/default_pushoverSoundDailyTotals"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="Uploader Events"
                    android:dependency="@string/key_pushoverEnable"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="Uploader Events">
                        <Preference
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="Send Uploader status events to followers."/>
                        <Preference
                            android:title="Message priority selection:"
                            android:key="pref_static_field_key"
                            android:selectable="false"
                            android:summary="EMERGENCY: red notification &amp; sound (persistent alarm that must be aknowledged by follower)\nHIGH: red notification &amp; sound\nNORMAL: notification &amp; sound\nLOW: notification &amp; no sound\nLOWEST: no notification &amp; no sound (message can be viewed in the Pushover app/widget)"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Pump errors">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:summary="Some pump errors can block all communication until they are cleared by the pump user. Notify follower when pump is in this state."
                            android:key="@string/key_pushoverEnableUploaderPumpErrors"
                            android:defaultValue="@bool/default_pushoverEnableUploaderPumpErrors"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableUploaderPumpErrors"
                            android:key="@string/key_pushoverPriorityUploaderPumpErrors"
                            android:defaultValue="@string/default_pushoverPriorityUploaderPumpErrors"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableUploaderPumpErrors"
                            android:key="@string/key_pushoverSoundUploaderPumpErrors"
                            android:defaultValue="@string/default_pushoverSoundUploaderPumpErrors"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Connection">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:summary="Send follower uploader-pump connection issues."
                            android:key="@string/key_pushoverEnableUploaderPumpConnection"
                            android:defaultValue="@bool/default_pushoverEnableUploaderPumpConnection"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableUploaderPumpConnection"
                            android:key="@string/key_pushoverPriorityUploaderPumpConnection"
                            android:defaultValue="@string/default_pushoverPriorityUploaderPumpConnection"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableUploaderPumpConnection"
                            android:key="@string/key_pushoverSoundUploaderPumpConnection"
                            android:defaultValue="@string/default_pushoverSoundUploaderPumpConnection"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Battery">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:key="@string/key_pushoverEnableUploaderBattery"
                            android:defaultValue="@bool/default_pushoverEnableUploaderBattery"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableUploaderBattery"
                            android:key="@string/key_pushoverPriorityUploaderBattery"
                            android:defaultValue="@string/default_pushoverPriorityUploaderBattery"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableUploaderBattery"
                            android:key="@string/key_pushoverSoundUploaderBattery"
                            android:defaultValue="@string/default_pushoverSoundUploaderBattery"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                        <CheckBoxPreference
                            android:title="Low battery state"
                            android:dependency="@string/key_pushoverEnableUploaderBattery"
                            android:key="@string/key_pushoverEnableBatteryLow"
                            android:defaultValue="@bool/default_pushoverEnableBatteryLow"/>
                        <CheckBoxPreference
                            android:title="Fully charged state"
                            android:dependency="@string/key_pushoverEnableUploaderBattery"
                            android:key="@string/key_pushoverEnableBatteryCharged"
                            android:defaultValue="@bool/default_pushoverEnableBatteryCharged"/>
                    </PreferenceCategory>
                </PreferenceScreen>

                <PreferenceScreen
                    android:title="Advanced"
                    android:dependency="pushoverEnable"
                    android:persistent="false">
                    <PreferenceCategory
                        android:title="Advanced">
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Extended Info">
                        <CheckBoxPreference
                            android:title="Extended message info"
                            android:key="@string/key_pushoverInfoExtended"
                            android:defaultValue="@bool/default_pushoverInfoExtended"
                            android:summary="Full extended message as shown on the pump"/>
                        <CheckBoxPreference
                            android:title="Time in Notification Title"
                            android:key="@string/key_pushoverTitleTime"
                            android:defaultValue="@bool/default_pushoverTitleTime"
                            android:summary="Include the time in the title part of a notification"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Emergency Alerts">
                        <info.nightscout.android.utils.ListPreference
                            android:title="Retry every"
                            android:key="@string/key_pushoverEmergencyRetry"
                            android:defaultValue="@string/default_pushoverEmergencyRetry"
                            android:summary="%s"
                            android:entries="@array/pushover_retry"
                            android:entryValues="@array/pushover_retry_values"/>
                        <info.nightscout.android.utils.ListPreference
                            android:title="Expire after"
                            android:key="@string/key_pushoverEmergencyExpire"
                            android:defaultValue="@string/default_pushoverEmergencyExpire"
                            android:summary="%s"
                            android:entries="@array/pushover_expire"
                            android:entryValues="@array/pushover_expire_values"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Cleared Alerts">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:summary="Cleared alerts can be sent to followers, these are only available after history has been retrieved when processing other live events."
                            android:key="@string/key_pushoverEnableCleared"
                            android:defaultValue="@bool/default_pushoverEnableCleared"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableCleared"
                            android:key="@string/key_pushoverPriorityCleared"
                            android:defaultValue="@string/default_pushoverPriorityCleared"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableCleared"
                            android:key="@string/key_pushoverSoundCleared"
                            android:defaultValue="@string/default_pushoverSoundCleared"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:title="Silenced Alerts">
                        <CheckBoxPreference
                            android:title="Send message"
                            android:summary="Silenced unacknowledged sensor alerts can be sent to followers. Pump will stay quiet and follower will be alerted."
                            android:key="@string/key_pushoverEnableSilenced"
                            android:defaultValue="@bool/default_pushoverEnableSilenced"/>
                        <ListPreference
                            android:title="Priority"
                            android:dependency="@string/key_pushoverEnableSilenced"
                            android:key="@string/key_pushoverPrioritySilenced"
                            android:defaultValue="@string/default_pushoverPrioritySilenced"
                            android:summary="%s"
                            android:entries="@array/pushover_priority"
                            android:entryValues="@array/pushover_priority_values"/>
                        <ListPreference
                            android:title="Sound"
                            android:dependency="@string/key_pushoverEnableSilenced"
                            android:key="@string/key_pushoverSoundSilenced"
                            android:defaultValue="@string/default_pushoverSoundSilenced"
                            android:summary="%s"
                            android:entries="@array/pushover_sound"
                            android:entryValues="@array/pushover_sound"/>
                    </PreferenceCategory>

                </PreferenceScreen>
            </PreferenceCategory>

        </PreferenceScreen>

    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pref_category_system">
        <PreferenceScreen
            android:title="@string/pref_category_advanced_system_settings"
            android:persistent="false">
            <PreferenceCategory
                android:title="@string/pref_category_advanced_system_settings">
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_history_sync">
                <CheckBoxPreference
                    android:title="@string/pref_system_cgm_history_title"
                    android:key="@string/key_sysEnableCgmHistory"
                    android:defaultValue="@bool/default_sysEnablePollOverride"
                    android:summary="@string/pref_system_cgm_history_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_cgm_backfill_title"
                    android:dependency="@string/key_sysEnableCgmHistory"
                    android:key="@string/key_sysCgmHistoryDays"
                    android:defaultValue="@string/default_sysCgmHistoryDays"
                    android:summary="%s"
                    android:entries="@array/backfill_period"
                    android:entryValues="@array/backfill_period_values"/>
                <CheckBoxPreference
                    android:title="@string/pref_system_pump_history_title"
                    android:key="@string/key_sysEnablePumpHistory"
                    android:defaultValue="@bool/default_sysEnablePumpHistory"
                    android:summary="@string/pref_system_pump_history_summary"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_pump_backfill_title"
                    android:dependency="@string/key_sysEnablePumpHistory"
                    android:key="@string/key_sysPumpHistoryDays"
                    android:defaultValue="@string/default_sysPumpHistoryDays"
                    android:summary="%s"
                    android:entries="@array/backfill_period"
                    android:entryValues="@array/backfill_period_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_auto_mode_update_frequency_title"
                    android:dependency="@string/key_sysEnablePumpHistory"
                    android:key="@string/key_sysPumpHistoryFrequency"
                    android:defaultValue="@string/default_sysPumpHistoryFrequency"
                    android:summary="%s"
                    android:entries="@array/automode_frequency"
                    android:entryValues="@array/automode_frequency_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_experimental">
                <CheckBoxPreference
                    android:title="@string/pref_system_estimate_sgv_title"
                    android:key="@string/key_sysEnableEstimateSGV"
                    android:defaultValue="@bool/default_sysEnableEstimateSGV"
                    android:summary="@string/pref_system_estimate_sgv_summary"/>
                <CheckBoxPreference
                    android:title="@string/pref_system_report_isig_title"
                    android:key="@string/key_sysEnableReportISIG"
                    android:defaultValue="@bool/default_sysEnableReportISIG"
                    android:summary="@string/pref_system_report_isig_summary"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_radio">
                <info.nightscout.android.utils.CustomSwitchPreference
                    android:title="@string/pref_system_radio_clash_protection_title"
                    android:disableDependentsState="false"
                    android:key="@string/key_sysEnableClashProtect"
                    android:defaultValue="@bool/default_sysEnableClashProtect"
                    android:summaryOff="@string/pref_system_radio_clash_protection_summary_off"
                    android:summaryOn="@string/pref_system_radio_clash_protection_summary_on"
                    android:switchTextOff="@string/text_off"
                    android:switchTextOn="@string/text_on" />
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_polling">
                <info.nightscout.android.utils.CustomSwitchPreference
                    android:title="@string/pref_system_poll_timing_title"
                    android:disableDependentsState="false"
                    android:key="@string/key_sysEnablePollOverride"
                    android:defaultValue="@bool/default_sysEnablePollOverride"
                    android:summaryOff="@string/pref_system_poll_timing_summary_off"
                    android:summaryOn="@string/pref_system_poll_timing_summary_on"
                    android:switchTextOff="@string/text_off"
                    android:switchTextOn="@string/text_on" />
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_poll_grace_period_title"
                    android:dependency="@string/key_sysEnablePollOverride"
                    android:key="@string/key_sysPollGracePeriod"
                    android:defaultValue="@string/default_sysPollGracePeriod"
                    android:summary="%s"
                    android:entries="@array/poll_override_period"
                    android:entryValues="@array/poll_override_period_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_poll_recovery_period_title"
                    android:dependency="@string/key_sysEnablePollOverride"
                    android:key="@string/key_sysPollRecoveryPeriod"
                    android:defaultValue="@string/default_sysPollRecoveryPeriod"
                    android:summary="%s"
                    android:entries="@array/poll_override_period"
                    android:entryValues="@array/poll_override_period_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_poll_warmup_period_title"
                    android:dependency="@string/key_sysEnablePollOverride"
                    android:key="@string/key_sysPollWarmupPeriod"
                    android:defaultValue="@string/default_sysPollWarmupPeriod"
                    android:summary="%s"
                    android:entries="@array/poll_override_period"
                    android:entryValues="@array/poll_override_period_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_poll_error_retry_title"
                    android:dependency="@string/key_sysEnablePollOverride"
                    android:key="@string/key_sysPollErrorRetry"
                    android:defaultValue="@string/default_sysPollErrorRetry"
                    android:summary="%s"
                    android:entries="@array/poll_override_period"
                    android:entryValues="@array/poll_override_period_values"/>
                <info.nightscout.android.utils.ListPreference
                    android:title="@string/pref_system_poll_old_sgv_retry_title"
                    android:dependency="@string/key_sysEnablePollOverride"
                    android:key="@string/key_sysPollOldSgvRetry"
                    android:defaultValue="@string/default_sysPollOldSgvRetry"
                    android:summary="%s"
                    android:entries="@array/poll_override_period"
                    android:entryValues="@array/poll_override_period_values"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_timing">
                <info.nightscout.android.utils.CustomSwitchPreference
                    android:title="@string/pref_system_control_passthrough_title"
                    android:disableDependentsState="false"
                    android:key="@string/key_sysEnableWait500ms"
                    android:defaultValue="@bool/default_sysEnableWait500ms"
                    android:summaryOff="@string/pref_system_control_passthrough_summary_off"
                    android:summaryOn="@string/pref_system_control_passthrough_summary_on"
                    android:switchTextOff="@string/text_off"
                    android:switchTextOn="@string/text_on"/>
            </PreferenceCategory>

            <PreferenceCategory
                android:title="@string/pref_system_category_usb">
                <info.nightscout.android.utils.CustomSwitchPreference
                    android:title="@string/pref_system_usb_permission_title"
                    android:disableDependentsState="false"
                    android:key="@string/key_sysEnableUsbPermissionDialog"
                    android:defaultValue="@bool/default_sysEnableUsbPermissionDialog"
                    android:summaryOff="@string/pref_system_usb_permission_summary_off"
                    android:summaryOn="@string/pref_system_usb_permission_summary_on"
                    android:switchTextOff="@string/text_off"
                    android:switchTextOn="@string/text_on"/>
            </PreferenceCategory>
        </PreferenceScreen>

        <PreferenceScreen
            android:title="@string/pref_category_debug_settings"
            android:persistent="false">
            <PreferenceCategory
                android:title="@string/pref_category_debug_settings">
                <SwitchPreference
                    android:title="@string/pref_debug_crash_reporting_title"
                    android:key="@string/key_dbgCrashlytics"
                    android:defaultValue="@bool/default_dbgCrashlytics"
                    android:summary="@string/pref_debug_crash_reporting_summary" />
                <SwitchPreference
                    android:title="@string/pref_debug_share_usage_data_title"
                    android:key="@string/key_dbgAnswers"
                    android:defaultValue="@bool/default_dbgAnswers"
                    android:summary="@string/pref_debug_share_usage_data_summary" />
                <SwitchPreference
                    android:title="@string/pref_debug_remote_debugging_title"
                    android:key="@string/key_dbgRemoteLogcat"
                    android:defaultValue="@bool/default_dbgRemoteLogcat"
                    android:summary="@string/pref_debug_remote_debugging_summary" />
                <ListPreference
                    android:title="@string/pref_debug_logging_level_title"
                    android:key="@string/key_dbgLogLevel"
                    android:defaultValue="@string/default_dbgLogLevel"
                    android:summary="%s"
                    android:entries="@array/debug_log_level"
                    android:entryValues="@array/debug_log_level_values" />
            </PreferenceCategory>
            <PreferenceCategory
                android:title="@string/pref_debug_category_userlog">
                <SwitchPreference
                    android:title="@string/pref_debug_extended_errors_title"
                    android:key="@string/key_dbgEnableExtendedErrors"
                    android:defaultValue="@bool/default_dbgEnableExtendedErrors"
                    android:summary="@string/pref_debug_extended_errors_summary" />
                <SwitchPreference
                    android:title="@string/pref_debug_upload_errors_title"
                    android:key="@string/key_dbgEnableUploadErrors"
                    android:defaultValue="@bool/default_dbgEnableUploadErrors"
                    android:summary="@string/pref_debug_upload_errors_summary" />
            </PreferenceCategory>
        </PreferenceScreen>
    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pref_category_disclaimer">
        <SwitchPreference
            android:title="@string/pref_disclaimer_title"
            android:disableDependentsState="false"
            android:key="@string/key_eulaAccepted"
            android:defaultValue="@bool/default_eulaAccepted"
            android:summaryOff="@string/pref_disclaimer_summary"
            android:summaryOn="@string/pref_disclaimer_summary"
            android:switchTextOff="@string/text_NO"
            android:switchTextOn="@string/text_YES" />
    </PreferenceCategory>
    <PreferenceCategory
        android:title="@string/pref_category_app_version">
        <!--suppress AndroidDomInspection -->
        <Preference
            android:title="@string/versionName"
            android:key="@string/key_version" />
    </PreferenceCategory>
</PreferenceScreen>